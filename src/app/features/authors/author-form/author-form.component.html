<div class="container">
  <mat-card>
    <mat-card-header>
      <mat-card-title>
        <h2>{{ isEditing ? 'Edit Author' : 'Create New Author' }}</h2>
      </mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <div *ngIf="error" style="color: #d32f2f; padding: 16px; background: #ffebee; border-radius: 4px; margin-bottom: 16px;">
        {{ error }}
      </div>

      <div *ngIf="success" style="color: #2e7d32; padding: 16px; background: #e8f5e9; border-radius: 4px; margin-bottom: 16px;">
        {{ success }}
      </div>

      <div *ngIf="loading" style="display: flex; justify-content: center; padding: 40px;">
        <mat-spinner></mat-spinner>
      </div>

      <form (ngSubmit)="onSubmit()" *ngIf="!loading" style="display: flex; flex-direction: column; gap: 16px;">
        <mat-form-field appearance="outline">
          <mat-label>First Name</mat-label>
          <input matInput [(ngModel)]="author.firstName" name="firstName" placeholder="Enter first name" required>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Last Name</mat-label>
          <input matInput [(ngModel)]="author.lastName" name="lastName" placeholder="Enter last name" required>
        </mat-form-field>

        <div style="display: flex; gap: 8px; margin-top: 16px;">
          <button mat-raised-button color="primary" type="submit">
            {{ isEditing ? 'Update Author' : 'Create Author' }}
          </button>
          <a routerLink="/authors" mat-raised-button>Cancel</a>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div>
